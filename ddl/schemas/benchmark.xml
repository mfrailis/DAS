<?xml version="1.0" encoding="UTF-8"?>
<ddl xmlns="http://oats.inaf.it/das"
 xmlns:xi="http://www.w3.org/2001/XInclude"
 xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
 xsi:schemaLocation="http://oats.inaf.it/das ddl.xsd">

    <xi:include href="dasInstance.xml" parse="xml"
	xpointer="xmlns(das=http://oats.inaf.it/das)xpointer(//das:type[@name='essentialMetadata'])"/>

    <type name="TypeAnc">
        <metadata>
            <keyword name="timeStamp" type="int64" unit="ms" description="CPU timestamp"/>
            <keyword name="intkey" type="int32"/>
        </metadata>
    </type>
    
    <type name="assoc">
        <metadata>
            <keyword name="stringkey" type="string"/>
        </metadata>        
    </type>

    <type name="assoc1" ancestor="assoc"></type>
    <type name="assoc2" ancestor="assoc"></type>
    <type name="assoc3" ancestor="assoc"></type>
    <type name="assoc4" ancestor="assoc"></type>
    
    <type name="TypeMain" ancestor="TypeAnc">
        <associated name="one_ex"  type="oneEx"  multiplicity="one"  relation="exclusive"/>
        <associated name="one_sh"  type="oneSh"  multiplicity="one"  relation="shared"/>
        <associated name="many_ex" type="manyEx" multiplicity="many" relation="exclusive"/>
        <associated name="many_sh" type="manySh" multiplicity="many" relation="shared"/>
    </type>

    <type name="oneEx"  ancestor="TypeAnc">
        <associated name="nested_one_ex"  type="assoc1"  multiplicity="one"  relation="exclusive"/>     
    </type>
    
    <type name="oneSh"  ancestor="TypeAnc">
        <associated name="nested_one_sh"  type="assoc2"  multiplicity="one"  relation="shared"/>      
    </type>
    
    <type name="manyEx" ancestor="TypeAnc">
        <associated name="nested_many_ex" type="assoc3" multiplicity="many" relation="exclusive"/>      
    </type>
    
    <type name="manySh" ancestor="TypeAnc"> 
        <associated name="nested_many_sh" type="assoc4" multiplicity="many" relation="shared"/>   
    </type>
    
</ddl>
